<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:TaskManager4.ViewModels"
        xmlns:views="using:TaskManager4.Views"
        x:Class="TaskManager4.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Width="600"
        Height="400"
        Title="Список задач">

    <ContentControl Content="{Binding CurrentViewModel}">
        <ContentControl.DataTemplates>

            <!-- Главная страница -->
            <DataTemplate DataType="vm:MainWindowViewModel">
                <StackPanel Margin="10">

                    <ListBox ItemsSource="{Binding Tasks}"
                             SelectedItem="{Binding SelectedTask}">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Margin="5">
                                    <TextBlock Text="{Binding Title}"
                                               FontWeight="Bold"/>
                                    <TextBlock Text="{Binding Description}"/>
                                    <CheckBox Content="Выполнено"
                                              IsChecked="{Binding IsDone}"/>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>

                    <StackPanel Orientation="Horizontal"
                                Margin="0,10,0,0"
                                HorizontalAlignment="Center"
                                Spacing="10">
                        <Button Content="Создать"
                                Width="77"
                                Command="{Binding CreateCommand}"/>
                        <Button Content="Редактировать"
                                Width="122"
                                Command="{Binding EditCommand}"/>
                        <Button Content="Удалить"
                                Width="77"
                                Command="{Binding DeleteCommand}"/>
                    </StackPanel>

                </StackPanel>
            </DataTemplate>

            <!-- Страница редактора -->
            <DataTemplate DataType="vm:TaskEditorViewModel">
                <views:TaskEditorView/>
            </DataTemplate>

        </ContentControl.DataTemplates>
    </ContentControl>
</Window>
